import{N as o,S as c,Q as r}from"./assets/watcher-D4UzMuod.js";function l(e={}){self.addEventListener("sync",n=>{n.tag==="rest-sync-queue"&&n.waitUntil(u(e))})}async function u(e){const n=new r,s=new o,t=new c(n,s,e);t.events.on("request-error",({id:i,error:a})=>console.error(`[RestSyncLite] BG Sync: Request ${i} failed`,a)),await n.init(),await t.startSync()}l({maxRetries:5,refreshToken:async()=>{console.log("[SW] Refreshing token (mock)...")}});self.addEventListener("install",()=>{console.log("[SW] Installed"),self.skipWaiting()});self.addEventListener("activate",e=>{console.log("[SW] Activated"),e.waitUntil(self.clients.claim())});
