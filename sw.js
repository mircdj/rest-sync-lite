import{N as i,S as r,Q as a}from"./assets/watcher-CZIrfKLm.js";function l(e={}){self.addEventListener("sync",n=>{n.tag==="rest-sync-queue"&&(console.log("[RestSyncLite] Background Sync triggered"),n.waitUntil(u(e)))})}async function u(e){const n=new a,c=new i,s=new r(n,c,e);s.events.on("request-success",({id:t})=>console.log(`[RestSyncLite] BG Sync: Request ${t} success`)),s.events.on("request-error",({id:t,error:o})=>console.error(`[RestSyncLite] BG Sync: Request ${t} failed`,o)),await n.init(),await s.startSync()}l({maxRetries:5,refreshToken:async()=>{console.log("[SW] Refreshing token (mock)...")}});self.addEventListener("install",()=>{console.log("[SW] Installed"),self.skipWaiting()});self.addEventListener("activate",e=>{console.log("[SW] Activated"),e.waitUntil(self.clients.claim())});
